{"ast":null,"code":"var _jsxFileName = \"/Users/ald59/Documents/personal-projects/countdown-react-express-mongodb-app/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      password: '',\n      loggedIn: false\n    };\n\n    this.nameChange = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.passwordChange = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const user = {\n        name: this.state.name,\n        password: this.state.password\n      };\n      axios.post('http://localhost:3001/users/login', user).then(res => {\n        const user = res.data;\n        console.log(user);\n\n        if (!user) {\n          console.log('No user found!');\n        } else {\n          localStorage.setItem('name', user.name);\n          localStorage.setItem('loggedIn', 'true');\n          this.setState({\n            user,\n            loggedIn: !this.state.loggedIn\n          });\n        }\n      }).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    console.log('name state: ', this.state.name);\n    console.log('password state: ', this.state.password);\n\n    if (this.state.loggenIn) {\n      window.location.href = \"http://localhost:3000/\".concat(this.state.name);\n    }\n\n    return React.createElement(\"div\", {\n      class: \"forms-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      placeholder: \"name\",\n      value: this.state.name,\n      onChange: this.nameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: this.passwordChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      id: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/ald59/Documents/personal-projects/countdown-react-express-mongodb-app/src/components/Login.js"],"names":["React","Component","Link","axios","Login","state","name","password","loggedIn","nameChange","e","setState","target","value","passwordChange","onSubmit","preventDefault","user","post","then","res","data","console","log","localStorage","setItem","catch","render","loggenIn","window","location","href"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\n\nexport default class Login extends Component {\n\n    state = {\n        name: '',\n        password: '',\n        loggedIn: false\n    }\n\n    nameChange = e => {\n        this.setState({ name: e.target.value })\n    }\n\n    passwordChange = e => {\n        this.setState({ password: e.target.value })\n    }\n\n    onSubmit = e => {\n        e.preventDefault()\n\n        const user = {\n            name: this.state.name,\n            password: this.state.password\n        }\n\n        axios.post('http://localhost:3001/users/login', user)\n            .then(res => {\n                const user = res.data\n                console.log(user)\n                if (!user) {\n                    console.log('No user found!')\n                } else {\n                    localStorage.setItem('name', user.name)\n                    localStorage.setItem('loggedIn', 'true')\n                    this.setState({ \n                        user,\n                        loggedIn: !this.state.loggedIn \n                    })\n                }\n            })\n            .catch(e => console.log(e))\n    }\n\n    render() {\n        console.log('name state: ', this.state.name)\n        console.log('password state: ', this.state.password)\n        if (this.state.loggenIn) {\n            window.location.href = `http://localhost:3000/${this.state.name}`\n        }\n        return (\n            <div class=\"forms-container\">\n                <form onSubmit={this.onSubmit}>\n                    <h1>Login</h1>\n                    <input \n                        type=\"text\" \n                        name=\"name\" \n                        id=\"name\" \n                        placeholder=\"name\"\n                        value={this.state.name}\n                        onChange={this.nameChange}\n                    />\n                    <input \n                        type=\"password\" \n                        name=\"password\" \n                        id=\"password\" \n                        placeholder=\"password\"\n                        value={this.state.password}\n                        onChange={this.passwordChange}\n                    />\n                    <button\n                        type=\"submit\"\n                        id=\"submit\"\n                    >\n                    Login\n                    </button>\n                </form>\n                <br />\n                <form>\n                    \n                </form>\n                {/* <Link to=\"/home\">Login</Link> */}\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}