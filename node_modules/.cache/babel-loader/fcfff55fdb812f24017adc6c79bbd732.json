{"ast":null,"code":"var _jsxFileName = \"/Users/ald59/Documents/personal-projects/countdown-react-express-mongodb-app/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      password: '',\n      loggedIn: false\n    };\n\n    this.nameChange = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.passwordChange = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const user = {\n        name: this.state.name,\n        password: this.state.password\n      };\n      axios.post('http://localhost:3001/users/login', user).then(res => {\n        const user = res.data;\n\n        if (!user) {\n          alert('No user found!');\n        } else {\n          localStorage.setItem('userId', user._id);\n          localStorage.setItem('name', user.name);\n          localStorage.setItem('loggedIn', 'true');\n          this.setState({\n            loggedIn: !this.state.loggedIn\n          });\n        }\n      }).catch(e => console.log(e));\n    };\n  }\n\n  render() {\n    if (this.state.loggedIn) {\n      window.location.href = \"http://localhost:3000/user/\".concat(this.state.name);\n    }\n\n    return React.createElement(\"div\", {\n      className: \"forms-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"login-forms\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      id: \"name\",\n      placeholder: \"name\",\n      value: this.state.name,\n      onChange: this.nameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: this.passwordChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      id: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/sign-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Sign Up\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/ald59/Documents/personal-projects/countdown-react-express-mongodb-app/src/components/Login.js"],"names":["React","Component","Link","axios","Login","state","name","password","loggedIn","nameChange","e","setState","target","value","passwordChange","onSubmit","preventDefault","user","post","then","res","data","alert","localStorage","setItem","_id","catch","console","log","render","window","location","href"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\n\nexport default class Login extends Component {\n\n  state = {\n    name: '',\n    password: '',\n    loggedIn: false\n  }\n\n  nameChange = e => {\n    this.setState({ name: e.target.value })\n  }\n\n  passwordChange = e => {\n    this.setState({ password: e.target.value })\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n\n    const user = {\n      name: this.state.name,\n      password: this.state.password\n    }\n\n    axios.post('http://localhost:3001/users/login', user)\n      .then(res => {\n        const user = res.data\n        if (!user) {\n          alert('No user found!')\n        } else {\n          localStorage.setItem('userId', user._id)\n          localStorage.setItem('name', user.name)\n          localStorage.setItem('loggedIn', 'true')\n          this.setState({\n            loggedIn: !this.state.loggedIn\n          })\n        }\n      })\n      .catch(e => console.log(e))\n  }\n\n  render() {\n    if (this.state.loggedIn) {\n      window.location.href = `http://localhost:3000/user/${this.state.name}`\n    }\n    return (\n      <div className=\"forms-container\">\n        <form className=\"login-forms\" onSubmit={this.onSubmit}>\n          <h1>Login</h1>\n          <input\n            type=\"text\"\n            name=\"name\"\n            id=\"name\"\n            placeholder=\"name\"\n            value={this.state.name}\n            onChange={this.nameChange}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"password\"\n            value={this.state.password}\n            onChange={this.passwordChange}\n          />\n          <button\n            type=\"submit\"\n            id=\"submit\"\n          >\n            Login\n                    </button>\n        </form>\n        <br />\n        <Link to='/sign-up'>\n          <h2>Sign Up</h2>\n        </Link>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}